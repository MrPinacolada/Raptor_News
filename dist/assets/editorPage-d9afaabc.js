import{d as Y,S as Q,k as Z,X as x,r as s,w as V,R as ee,m as ae,u as te,n as le,q as se,s as oe,_ as ne,b as n,e as i,x as d,y as P,g as l,h as S,z as ie,t as R,A as re,B as G,C as de,p as ue,j as pe,D as ve}from"./index-92654813.js";const fe=Y({components:{},setup(){let e=Q(),t=Z(),L=x(ee,"/Art_db"),h,u=s(),f=s(),a=s(),y=s(void 0),T=s(!1),_=s(!1),E=s(),N=s(!1),I=s(!1),C=s(!1),D=s(!1),b=s(!1),w=s(!1),k=s(),M=s(),B=s(),W=()=>{C.value=!0,setTimeout(()=>{D.value=!0},500)},$=()=>{M.value>=50&&(u.value=u.value.substring(0,50)),B.value>=70&&(f.value=f.value.substring(0,70))},H=()=>{w.value=!0,setTimeout(()=>{b.value=!1,w.value=!1,C.value=!1,D.value=!1},500)},q=()=>{T.value=!0},X=()=>{T.value=!1},j=v=>{var o,r,p;if(v.preventDefault(),T.value=!1,(r=(o=v.dataTransfer)==null?void 0:o.types)!=null&&r.includes("Files")){const m=Array.from((p=v.dataTransfer)==null?void 0:p.files);O(m)}},O=v=>{var p;let o=(p=v.target)==null?void 0:p.files[0],r=v[0];if(r||o){let m=new FileReader;m.onload=F=>{var A;y.value=(A=F.target)==null?void 0:A.result},m.onloadend=()=>{h=document.getElementById("artIMG")},_.value=!0,m.readAsDataURL(r||o)}},z=async v=>{let o=document.createElement("canvas"),r=o.getContext("2d");o.width=h.naturalWidth,o.height=h.naturalHeight,r==null||r.drawImage(v,0,0),o.toBlob(p=>{console.log("blob"),new FormData().append("imgFile",p);let F=`${a.value}/${K}`,A=ae(t,F),U=te(A,p);U.on("state_changed",g=>{E.value=g.bytesTransferred/g.totalBytes*100,N.value=!0},g=>{switch(console.log(g),g.code){}},()=>{le(U.snapshot.ref).then(async g=>{console.log("done"),await se(oe(L,u.value.replace(/\s/g,"-")),{tag:a.value,title:u.value,id:u.value.replace(/\s/g,"-"),YTid:"jfKfPfyJRdk",path:g,subtitle:f.value,body:k.value})})})})},J=()=>{h!=null&&a.value!=null&&z(h)},K=(v=>{const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let p=0;p<v;p++)r+=o.charAt(Math.floor(Math.random()*o.length));return r})(20);return V([u,f,a,y],()=>{M.value=u.value?u.value.length:"",B.value=f.value?f.value.length:"",(u.value&&f.value&&a.value&&y.value)!=null?I.value=!0:I.value=!1}),V(k,()=>{k.value.length>=1?b.value=!0:b.value=!1}),{uploadHandle:J,onFileChange:O,handleDrop:j,handleDragLeave:X,handleDragEnter:q,isDragOver:T,IMGvalue:y,store:e,NewsTAGS:a,subTitle:f,title:u,isPick:_,innerLoadProcess:E,isloadIMGProcess:N,nextStepApprove:I,fillThebodyTextArea:W,changeToBodyTextArea:C,hideFirstModule:D,bodyArticle:k,seePreview:b,backToFIrstModule:H,goTofirstModule:w,titleCounter:M,handleCharsInput:$,subTitleCounter:B}}});const c=e=>(ue("data-v-4d4f96e2"),e=e(),pe(),e),ge={class:"editorContainer"},he={class:"dailyPhoto"},me={class:"TagSpan"},ce=c(()=>l("label",{id:"topicCh"},"Choose the topic:",-1)),ye=ve('<option value="/PoliticsPage/Politics_articles" data-v-4d4f96e2>Politic</option><option value="/SportsPage/Sports_Articles" data-v-4d4f96e2>Sport</option><option value="/WeatherPage/Weather_Articles" data-v-4d4f96e2>Weather</option><option value="/OpinionPage/Opinion_Articles" data-v-4d4f96e2>Opinion</option><option value="/BusinessPage/Business_Articles" data-v-4d4f96e2>Busines</option><option value="/LifeStylePage/LIfeStyle_Articles" data-v-4d4f96e2>LifeStyle</option><option value="/GamesPage/Games_Articles" data-v-4d4f96e2>Games</option>',7),Te=[ye],be={class:"changePhoto"},ke={key:0,id:"svgSpace",src:de,alt:""},Ae={key:1,class:"loadingProcess"},Pe=c(()=>l("span",{class:"loader"},null,-1)),Se={class:"changePhotoContainer"},Ie=["src"],Ce={for:"imgInput",class:"drag-drop-container"},De=c(()=>l("p",null,"Drag and drop files here or click to select files",-1)),we={class:"dailyRead"},Me=c(()=>l("label",null,"Write the major Title:",-1)),Be={key:0,class:"counterSpan"},Fe=c(()=>l("label",null,"Write the SubTitle:",-1)),Re={key:1,class:"counterSpan"},Ge=c(()=>l("h3",{style:{"text-align":"center"}},"Write the body of article:",-1));function Le(e,t,L,h,u,f){return n(),i("div",ge,[e.hideFirstModule?(n(),i("span",{key:0,class:"stepArrows",onClick:t[0]||(t[0]=(...a)=>e.backToFIrstModule&&e.backToFIrstModule(...a))},"PREVIOUS STEP")):d("",!0),e.hideFirstModule?d("",!0):(n(),i("span",{key:1,class:P({animate__backOutLeft:e.changeToBodyTextArea})},null,2)),e.hideFirstModule?d("",!0):(n(),i("article",{key:2,class:P(["dailyNews animate__animated",{animate__backOutLeft:e.changeToBodyTextArea,animate__backInLeft:!e.changeToBodyTextArea}])},[l("picture",he,[l("span",me,[ce,S(l("select",{required:"","onUpdate:modelValue":t[1]||(t[1]=a=>e.NewsTAGS=a)},Te,512),[[ie,e.NewsTAGS]])]),l("div",be,[e.isloadIMGProcess?(n(),i("img",ke)):d("",!0),e.isloadIMGProcess?(n(),i("div",Ae,[Pe,l("p",null,"Process "+R(e.innerLoadProcess.toFixed(0))+"%",1)])):d("",!0),l("div",Se,[e.isPick&&!e.isloadIMGProcess?(n(),i("img",{key:0,src:e.IMGvalue,id:"artIMG"},null,8,Ie)):d("",!0)]),e.isPick?d("",!0):(n(),i("div",{key:2,onDragover:t[3]||(t[3]=re(()=>{},["prevent"])),onDrop:t[4]||(t[4]=(...a)=>e.handleDrop&&e.handleDrop(...a)),onDragenter:t[5]||(t[5]=(...a)=>e.handleDragEnter&&e.handleDragEnter(...a)),class:P({"drag-over":e.isDragOver})},[l("label",Ce,[l("input",{id:"imgInput",type:"file",ref:"inputFile",onChange:t[2]||(t[2]=(...a)=>e.onFileChange&&e.onFileChange(...a))},null,544),De])],34))])]),l("div",we,[Me,e.titleCounter?(n(),i("span",Be,"Chars left: "+R(50-e.titleCounter),1)):d("",!0),S(l("input",{type:"text",required:"","onUpdate:modelValue":t[6]||(t[6]=a=>e.title=a),onInput:t[7]||(t[7]=(...a)=>e.handleCharsInput&&e.handleCharsInput(...a)),placeholder:"50 chars max"},null,544),[[G,e.title]]),Fe,e.subTitleCounter?(n(),i("span",Re,"Chars left: "+R(70-e.subTitleCounter),1)):d("",!0),S(l("input",{type:"text",required:"","onUpdate:modelValue":t[8]||(t[8]=a=>e.subTitle=a),onInput:t[9]||(t[9]=(...a)=>e.handleCharsInput&&e.handleCharsInput(...a)),placeholder:"70 chars max"},null,544),[[G,e.subTitle]])])],2)),e.changeToBodyTextArea?(n(),i("div",{key:3,class:P(["bodyContainer animate__animated",{animate__backInRight:e.changeToBodyTextArea,animate__backOutRight:e.goTofirstModule}])},[Ge,S(l("textarea",{"onUpdate:modelValue":t[10]||(t[10]=a=>e.bodyArticle=a),rows:"5",class:"notes"},null,512),[[G,e.bodyArticle]])],2)):d("",!0),e.nextStepApprove&&!e.changeToBodyTextArea?(n(),i("span",{key:4,onClick:t[11]||(t[11]=(...a)=>e.fillThebodyTextArea&&e.fillThebodyTextArea(...a)),class:"stepArrows"},"NEXT STEP")):d("",!0),e.seePreview?(n(),i("span",{key:5,onClick:t[12]||(t[12]=(...a)=>e.uploadHandle&&e.uploadHandle(...a)),class:"stepArrows"},"PUBLISH")):d("",!0)])}const Ne=ne(fe,[["render",Le],["__scopeId","data-v-4d4f96e2"]]);export{Ne as default};
